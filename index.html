<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <!-- define camera logger component -->
    <script>
        AFRAME.registerComponent('camera-logger', {

            schema: {
                timestamp: { type: 'int' },
                seconds: { type: 'int' } // default 0
            },

            log: function () {
                var cameraEl = this.el.sceneEl.camera.el;
                var rotation = cameraEl.getAttribute('rotation');
                var worldPos = new THREE.Vector3();
                worldPos.setFromMatrixPosition(cameraEl.object3D.matrixWorld);
                console.log("Time: " + this.data.seconds
                    + "; Camera Position: (" + worldPos.x.toFixed(2) + ", " + worldPos.y.toFixed(2) + ", " + worldPos.z.toFixed(2)
                    + "); Camera Rotation: (" + rotation.x.toFixed(2) + ", " + rotation.y.toFixed(2) + ", " + rotation.z.toFixed(2) + ")");
            },

            play: function () {
                this.data.timestamp = Date.now();
                this.log();
            },

            tick: function () {
                if (Date.now() - this.data.timestamp > 1000) {
                    this.data.timestamp += 1000;
                    this.data.seconds += 1;
                    this.log();
                }
            },
        });
    </script>

</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene embedded loading-screen="enabled: false;" arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-image src="assets/asset.png" look-at="[gps-camera]" scale="5 5 5"
            gps-entity-place="latitude: -38.712>; longitude: -62.295;"></a-image>
        <a-text value="This will always face the user." look-at="[gps-camera]" scale="15 15 15"
            gps-entity-place="latitude: -38.712; longitude: -62.295;"></a-text>
        <a-camera gps-camera rotation-reader></a-camera>
        <!-- add the logger to your camera -->
        <a-entity camera camera-logger>
    </a-scene>
</body>

</html>